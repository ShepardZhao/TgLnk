/**
 * Created by Shepard on 12/03/15.
 */
/********************************************
 * mysql CRUD
 *******************************************/

var connectionPool = require('mysqlConnectionPool');

//read
exports.CRUD = function (sql,Paramters,callback){
    connectionPool.mysqlConnectionPool().getConnection(function(err,connection){

        function crudCommonMethods(err,results){
            if(err){
               return callback ({success:0,error:err});
            }
            else if(results){
                callback({success:1,getresult:results});
            }

        };


        if(Paramters){
            connection.query(sql,Paramters, function (err, results){
                crudCommonMethods(err,results);
            });
        }
        else{
            connection.query(sql, function (err, results){
                crudCommonMethods(err,results);

            });
        }
        connection.release();



    });
};


